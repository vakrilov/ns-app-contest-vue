"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var frame_1 = require("tns-core-modules/ui/frame");
function getChildren(view) {
    var children = [];
    view.eachChildView(function (child) {
        children.push(child);
        return true;
    });
    return children;
}
function wsLvl(level) {
    var res = "";
    for (var i = 0; i < level; i++) {
        res += "    ";
    }
    return res;
}
function dumpView(view, level) {
    if (level === void 0) { level = 0; }
    var nodeName = view.nodeName || view;
    var output = ["(", nodeName];
    console.log(wsLvl(level) + nodeName);
    // if (verbose) {
    //     if (view instanceof TextBase) {
    //         output.push("[text=", view.text, "]");
    //     }
    // }
    var children = getChildren(view).map(function (c) { return dumpView(c, level + 1); }).join(", ");
    if (children) {
        output.push(" ", children);
    }
    output.push(")");
    return output.join("");
}
exports.dumpView = dumpView;
function dumpViewHierarchy() {
    dumpView(frame_1.topmost());
}
exports.dumpViewHierarchy = dumpViewHierarchy;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVidWcuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkZWJ1Zy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLG1EQUFvRDtBQUVwRCxxQkFBcUIsSUFBVTtJQUMzQixJQUFJLFFBQVEsR0FBZ0IsRUFBRSxDQUFDO0lBQ3pCLElBQUssQ0FBQyxhQUFhLENBQUMsVUFBQyxLQUFLO1FBQzVCLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDckIsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDLENBQUMsQ0FBQztJQUNILE1BQU0sQ0FBQyxRQUFRLENBQUM7QUFDcEIsQ0FBQztBQUVELGVBQWUsS0FBYTtJQUN4QixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDYixHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQzdCLEdBQUcsSUFBSSxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUNELE1BQU0sQ0FBQyxHQUFHLENBQUM7QUFDZixDQUFDO0FBRUQsa0JBQXlCLElBQVUsRUFBRSxLQUFpQjtJQUFqQixzQkFBQSxFQUFBLFNBQWlCO0lBQ2xELElBQUksUUFBUSxHQUFTLElBQUssQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDO0lBQzVDLElBQUksTUFBTSxHQUFHLENBQUUsR0FBRyxFQUFFLFFBQVEsQ0FBRSxDQUFDO0lBQy9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDO0lBRXJDLGlCQUFpQjtJQUNqQixzQ0FBc0M7SUFDdEMsaURBQWlEO0lBQ2pELFFBQVE7SUFDUixJQUFJO0lBRUosSUFBSSxRQUFRLEdBQUcsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFDLENBQUMsSUFBSyxPQUFBLFFBQVEsQ0FBQyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUF0QixDQUFzQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9FLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDWCxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNqQixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUMzQixDQUFDO0FBakJELDRCQWlCQztBQUVEO0lBQ0ksUUFBUSxDQUFDLGVBQU8sRUFBRSxDQUFDLENBQUM7QUFDeEIsQ0FBQztBQUZELDhDQUVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVnVlIGZyb20gJ25hdGl2ZXNjcmlwdC12dWUvZGlzdC9pbmRleCc7XG5pbXBvcnQgeyBWaWV3IH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvY29yZS92aWV3XCI7XG5pbXBvcnQgeyB0b3Btb3N0IH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvZnJhbWVcIjtcblxuZnVuY3Rpb24gZ2V0Q2hpbGRyZW4odmlldzogVmlldyk6IEFycmF5PFZpZXc+IHtcbiAgICBsZXQgY2hpbGRyZW46IEFycmF5PFZpZXc+ID0gW107XG4gICAgKDxhbnk+dmlldykuZWFjaENoaWxkVmlldygoY2hpbGQpID0+IHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiBjaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gd3NMdmwobGV2ZWw6IG51bWJlcik6IHN0cmluZyB7XG4gICAgbGV0IHJlcyA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZXZlbDsgaSsrKSB7XG4gICAgICAgIHJlcyArPSBcIiAgICBcIjtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGR1bXBWaWV3KHZpZXc6IFZpZXcsIGxldmVsOiBudW1iZXIgPSAwKTogc3RyaW5nIHtcbiAgICBsZXQgbm9kZU5hbWUgPSAoPGFueT52aWV3KS5ub2RlTmFtZSB8fCB2aWV3O1xuICAgIGxldCBvdXRwdXQgPSBbIFwiKFwiLCBub2RlTmFtZSBdO1xuICAgIGNvbnNvbGUubG9nKHdzTHZsKGxldmVsKSArIG5vZGVOYW1lKTtcblxuICAgIC8vIGlmICh2ZXJib3NlKSB7XG4gICAgLy8gICAgIGlmICh2aWV3IGluc3RhbmNlb2YgVGV4dEJhc2UpIHtcbiAgICAvLyAgICAgICAgIG91dHB1dC5wdXNoKFwiW3RleHQ9XCIsIHZpZXcudGV4dCwgXCJdXCIpO1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgbGV0IGNoaWxkcmVuID0gZ2V0Q2hpbGRyZW4odmlldykubWFwKChjKSA9PiBkdW1wVmlldyhjLCBsZXZlbCArIDEpKS5qb2luKFwiLCBcIik7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIG91dHB1dC5wdXNoKFwiIFwiLCBjaGlsZHJlbik7XG4gICAgfVxuICAgIG91dHB1dC5wdXNoKFwiKVwiKTtcbiAgICByZXR1cm4gb3V0cHV0LmpvaW4oXCJcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkdW1wVmlld0hpZXJhcmNoeSgpe1xuICAgIGR1bXBWaWV3KHRvcG1vc3QoKSk7XG59Il19